---
layout: post
title:  "간단한 markdown 파일을 html로 변환해주는 컴파일러(팀 프로젝트)"
summary: "Simple markdown to html compiler(Team project)"
author: 안승우
date: '2025-09-25'
category: ['rust','team_project', 'portfolio', 'compiler']
thumbnail: /assets/img/projectCOMPILER_V1.png
usemathjax: true
permalink: /blog/projectCOMPILER_V1/
---

📝 프로젝트 개요

본 프로젝트는 Rust를 이용하여 간단한 Markdown → HTML 변환기를 제작한
것입니다. Markdown 파일을 입력받아 파싱하고, HTML 코드로 변환 후 출력
파일로 저장하는 방식으로 동작합니다. 기본적인 기능은 Header, Paragraph,
Blank line 처리를 지원하며, 추가적으로 inline 요소(code, bold, italic,
link) 변환도 포함했습니다.

---

⚙️ 개발 동기

Markdown은 개발자들이 문서를 작성할 때 가장 널리 사용하는 경량 마크업
언어입니다. 하지만 Markdown을 HTML로 직접 변환하는 과정을 구현해본
경험은 부족했습니다. 따라서 Rust 언어를 학습하는 동시에, Markdown의
구조를 직접 파싱하고 HTML로 출력하는 프로젝트를 진행하게 되었습니다.

---

🛠️ 프로젝트 구조

본 프로젝트는 크게 네 개의 모듈로 구성됩니다.

src/ ├── parser.rs // Markdown 텍스트 → 구조체 변환 ├── transformer.rs
// 구조체 → HTML 태그 변환 ├── codegen.rs // 최종 HTML 페이지 생성 └──
main.rs // 실행 로직 (파일 입출력, 전체 파이프라인)

---

  1: parser.rs

Markdown 텍스트를 한 줄씩 읽어, 헤더, 단락, 빈 줄을 구분합니다.

MarkdownElement라는 열거형(Enum)을 정의하여 내부 표현을 구조화했습니다.

``` rust
pub enum MarkdownElement {
    Header{ count: u8, text: String }, 
    Ptag(String), 
    BlankLine,
}
```

---

  2: transformer.rs

파싱된 MarkdownElement를 HTML 태그로 변환합니다.

inline 요소 처리(code, bold, italic, link)를 위해 정규 표현식(regex)을
활용했습니다.

예시:

``` rust
let re_bold = Regex::new(r"\*\*(.+?)\*\*").unwrap();
s = re_bold.replace_all(&s, "<strong>$1</strong>").to_string();
```

---

  3: codegen.rs

변환된 HTML 조각들을 모아 하나의 HTML 문서 구조로 만듭니다.

HTML5 기본 문서 구조(`<!DOCTYPE html> ... </html>`)를 포함합니다.

---

  4: main.rs

프로그램의 진입점으로, 다음 과정을 수행합니다:

-   명령줄 인자에서 입력 파일(.md), 출력 파일(.html) 이름을 받음
-   Markdown 파일을 읽어 parser 실행
-   변환된 요소를 codegen에 넘겨 HTML 생성
-   최종 HTML 파일로 저장

실행 예시:

    cargo run example.md output.html

---

🚀 결과

예제 입력 (`example.md`):

``` markdown
# Header 1
This is a paragraph.

## Header 2
Another paragraph.

### Header 3
```

출력 (`output.html`):

``` html
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Markdown</title>
</head>
<body>
<h1>Header 1</h1>
<p>This is a paragraph.</p>
<br/>
<h2>Header 2</h2>
<p>Another paragraph.</p>
<h3>Header 3</h3>
</body>
</html>
```

---

🧩 문제 해결 경험

-   문제: Regex::replace_all이 Cow`<str>`{=html}를 반환하여 .unwrap()이
    불가능 → .to_string()으로 해결\
-   문제: Enum variant 네이밍(Blank_line)에서 Rust naming convention
    경고 발생 → BlankLine으로 변경\
-   문제: crate를 create로 잘못 작성하여 unresolved module 오류 발생 →
    crate로 수정

이 과정에서 Rust의 엄격한 타입 시스템과 에러 메시지를 기반으로, 문제를
빠르게 파악하고 해결할 수 있었습니다.


---

💡 배운 점

-   Rust의 모듈 시스템(mod, crate) 구조를 명확히 이해했습니다.\
-   정규 표현식을 활용해 inline Markdown 문법을 처리하는 방법을
    익혔습니다.\
-   단순히 라이브러리를 사용하는 수준을 넘어, 문법 파서를 직접 설계하는
    경험을 할 수 있었습니다.

---

📌 향후 개선 방향

-   리스트(- item, 1. item)와 같은 블록 요소 추가\
-   이미지(![alt](url)) 지원\
-   CSS 스타일을 적용하여 가독성 높은 결과물 생성\
-   WASM(WebAssembly)으로 빌드하여 브라우저에서도 실행 가능하게 확장
