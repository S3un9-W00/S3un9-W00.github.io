---
layout: post
title:  "ê°„ë‹¨í•œ Rust ì½”ë“œë¥¼ Stack VM ì½”ë“œë¡œ ë³€í™˜í•´ì£¼ëŠ” ì»´íŒŒì¼ëŸ¬(íŒ€ í”„ë¡œì íŠ¸)"
summary: "Simple Ryst to Stack VM compiler(Team project)"
author: ì•ˆìŠ¹ìš°
date: '2025-09-23'
category: ['rust','team_project', 'portfolio', 'compiler']
thumbnail: /assets/img/projectCOMPILER_V2.png
usemathjax: true
permalink: /blog/projectCOMPILER_V2/
---

ðŸ“ **í”„ë¡œì íŠ¸ ê°œìš”**

Rustë¥¼ í™œìš©í•˜ì—¬ ê°„ë‹¨í•œ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ë¥¼ ìŠ¤íƒ ê¸°ë°˜ ê°€ìƒ ë¨¸ì‹ ìš© ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ì»´íŒŒì¼ëŸ¬ë¥¼ ì œìž‘í•˜ì˜€ìŠµë‹ˆë‹¤.  
ìž…ë ¥ ì½”ë“œë¥¼ **í† í°í™” â†’ AST ë³€í™˜ â†’ ìŠ¤íƒ ë¨¸ì‹  ëª…ë ¹ì–´ ìƒì„±**ê¹Œì§€ ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.  

---

âš™ï¸ **ì£¼ìš” ê¸°ëŠ¥**

- ë³€ìˆ˜ ì„ ì–¸(`let`), ìˆ˜ì‹ í‘œí˜„, ì¡°ê±´ë¬¸(`if-else`), ë°˜ë³µë¬¸(`while`) ì§€ì›  
- ìŠ¤íƒ ê¸°ë°˜ ì—°ì‚° ëª…ë ¹ì–´ ìƒì„±: `PUSH`, `POP`, `ADD`, `SUB`, `GT`, `LT`, `EQ`  
- ì¡°ê±´ ë¶„ê¸° ë° ë£¨í”„ êµ¬í˜„ì„ ìœ„í•œ ë ˆì´ë¸”(Label) ìžë™ ìƒì„±  
- ìµœì¢… ì½”ë“œë¥¼ VMì—ì„œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ì¶œë ¥  

---

ðŸ› ï¸ **íŒ€ ë‚´ ì—­í• **

- **Lexer êµ¬í˜„:** ìž…ë ¥ ë¬¸ìžì—´ì„ í† í°(`Token`)ìœ¼ë¡œ ë³€í™˜  
- **Parser êµ¬í˜„:** í† í°ì„ AST(`Stmt`, `Expr`)ë¡œ ë³€í™˜  

---

ðŸ§© **ê°œë°œ ê³¼ì • ë° ë¬¸ì œ í•´ê²°**

- **í† í°í™” ë¬¸ì œ:** `=`ì™€ `==` êµ¬ë¶„, ì—°ì†ëœ ê¸°í˜¸ ì²˜ë¦¬ â†’ `peek_char()` í™œìš©  
- **AST ì„¤ê³„:** if-else, while, ì´í•­ ì—°ì‚° í‘œí˜„ì‹ì„ ëª¨ë‘ ìž¬ê·€ êµ¬ì¡°ë¡œ ì²˜ë¦¬   

---

ðŸš€ **ì„±ê³¼**

**MiniLang ì˜ˆì œ ì½”ë“œ:**

```rust
let x = 10 + 20;
if x > 15 {
    x = x - 5;
} else {
    x = x + 5;
}
while x < 30 {
    x = x + 1;
}
ìƒì„±ëœ ìŠ¤íƒ ë¨¸ì‹  ëª…ë ¹ì–´ ì˜ˆì‹œ:

python-repl
ì½”ë“œ ë³µì‚¬
PUSH 10
PUSH 20
ADD
STORE x
LOAD x
PUSH 15
GT
JZ Lelse_0
...
LABEL Lend_3
HALT
AST â†’ ìŠ¤íƒ ëª…ë ¹ì–´ë¡œ ë³€í™˜ ì™„ë£Œ, VMì—ì„œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥

---

ðŸ’¡ **ë°°ìš´ ì **

Rustì˜ ëª¨ë“ˆ ì‹œìŠ¤í…œ(mod, crate)ê³¼ Enum í™œìš© ëŠ¥ë ¥ í–¥ìƒ

ìŠ¤íƒ ê¸°ë°˜ ê°€ìƒ ë¨¸ì‹  ì•„í‚¤í…ì²˜ ì´í•´

ì§ì ‘ Lexer, Parser, CodeGen ì„¤ê³„ ê²½í—˜ì„ í†µí•´ ì»´íŒŒì¼ëŸ¬ ì œìž‘ ê³¼ì • ì‹¬í™” í•™ìŠµ

---

ðŸ“Œ **í–¥í›„ ê°œì„  ë°©í–¥**

í•¨ìˆ˜/ìŠ¤ì½”í”„ ì§€ì›ìœ¼ë¡œ í”„ë¡œê·¸ëž¨ êµ¬ì¡° í™•ìž¥

ì¶”ê°€ ì—°ì‚°ìž ë° ë‚´ìž¥ í•¨ìˆ˜ êµ¬í˜„

ì‹¤ì œ VM ì¸í„°í”„ë¦¬í„°ì™€ í†µí•©í•˜ì—¬ ì‹¤í–‰ í™˜ê²½ í™•ìž¥